# practicum_monitoring
Ansible Monitoring & Logging Roles

–≠—Ç–æ—Ç —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —Å–æ–¥–µ—Ä–∂–∏—Ç Ansible-—Ä–æ–ª–∏ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∏—Å—Ç–µ–º—ã –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞ Ubuntu (ARM).

üìå –û–ø–∏—Å–∞–Ω–∏–µ —Ä–æ–ª–µ–π

1Ô∏è‚É£ prometheus

–†–æ–ª—å –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Prometheus –¥–ª—è —Å–±–æ—Ä–∞ –º–µ—Ç—Ä–∏–∫.

–£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç Prometheus –∏–∑ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã—Ö –±–∏–Ω–∞—Ä–Ω–∏–∫–æ–≤.

–°–æ–∑–¥–∞—ë—Ç –∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã.

–ó–∞–ø—É—Å–∫–∞–µ—Ç —Å–µ—Ä–≤–∏—Å –∏ –¥–æ–±–∞–≤–ª—è–µ—Ç –µ–≥–æ –≤ –∞–≤—Ç–æ–∑–∞–≥—Ä—É–∑–∫—É.

2Ô∏è‚É£ node_exporter

–†–æ–ª—å –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ Node Exporter, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–±–∏—Ä–∞–µ—Ç –º–µ—Ç—Ä–∏–∫–∏ –æ —Å–∏—Å—Ç–µ–º–µ.

–£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç Node Exporter –∏–∑ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã—Ö –±–∏–Ω–∞—Ä–Ω–∏–∫–æ–≤.

–ó–∞–ø—É—Å–∫–∞–µ—Ç —Å–µ—Ä–≤–∏—Å –∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –µ–≥–æ –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫.

3Ô∏è‚É£ elasticsearch

–†–æ–ª—å –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Elasticsearch.

–ó–∞–≥—Ä—É–∂–∞–µ—Ç –∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç Elasticsearch.

–ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã.

–û–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫ —Å–ª—É–∂–±—ã.

4Ô∏è‚É£ kibana

–†–æ–ª—å –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Kibana.

–£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç Kibana.

–ö–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–µ—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ Elasticsearch.

–ó–∞–ø—É—Å–∫–∞–µ—Ç —Å–µ—Ä–≤–∏—Å.

5Ô∏è‚É£ fluentbit

–†–æ–ª—å –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ Fluent Bit –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ª–æ–≥–æ–≤ –≤ ELK.

–£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç Fluent Bit.

–ö–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–µ—Ç –≤–≤–æ–¥ –ª–æ–≥–æ–≤ (systemd, —Ñ–∞–π–ª—ã –∏ —Ç. –¥.).

–ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –æ—Ç–ø—Ä–∞–≤–∫—É –ª–æ–≥–æ–≤ –≤ Elasticsearch.

‚öôÔ∏è –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

Ubuntu (ARM)

Ansible 2.10+

–û—Ç–∫—Ä—ã—Ç—ã–µ –ø–æ—Ä—Ç—ã –¥–ª—è Prometheus, Elasticsearch, Kibana

üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

–ö–ª–æ–Ω–∏—Ä—É–µ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:

git clone https://github.com/your-repo.git
cd your-repo

–ó–∞–ø–æ–ª–Ω—è–µ–º inventory.ini:

[monitoring]
192.168.1.100 ansible_user=ubuntu

–ó–∞–ø—É—Å–∫–∞–µ–º –ø–ª–µ–π–±—É–∫:

ansible-playbook -i inventory.ini site.yml

üîß –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –≤ defaults/main.yml –∫–∞–∂–¥–æ–π —Ä–æ–ª–∏. –ü—Ä–∏–º–µ—Ä –¥–ª—è Fluent Bit:

elasticsearch_host: "192.168.1.100"
elasticsearch_port: 9200
fluentbit_log_level: "info"

üõ†Ô∏è –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Å–µ—Ä–≤–∏—Å—ã —Ä–∞–±–æ—Ç–∞—é—Ç:

Prometheus: http://<IP>:9090

Elasticsearch: http://<IP>:9200

Kibana: http://<IP>:5601
